<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Love Surprise PRO üíñ</title>

<style>
body{
    font-family:'Kanit',sans-serif;
    background:linear-gradient(135deg,#ffc0cb,#ff8fcf);
    margin:0;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    overflow:hidden;
}
.container{
    background:white;
    width:95%;
    max-width:420px;
    padding:20px;
    border-radius:20px;
    box-shadow:0 10px 30px rgba(0,0,0,0.2);
    text-align:center;
    position:relative;
    z-index:2;
    max-height:90vh;
    overflow-y:auto;
}
.hidden{display:none;}
button{
    padding:10px 15px;
    margin:8px 5px;
    border:none;
    border-radius:10px;
    background:#ff69b4;
    color:white;
    cursor:pointer;
}
input,textarea{
    width:100%;
    padding:10px;
    margin:8px 0;
    border-radius:10px;
    border:1px solid #ffb6d9;
}
.preview-box{
    background:#fff0f6;
    padding:15px;
    border-radius:15px;
    margin-top:10px;
}
img,video,iframe{
    max-width:100%;
    border-radius:12px;
    margin-top:10px;
}
</style>
</head>
<body>

<div class="container" id="formPage">
<h2>üíñ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥ üíñ</h2>

<input type="text" id="title" placeholder="‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏∞‡πÑ‡∏£...">
<textarea id="story" rows="4" placeholder="‡πÄ‡∏•‡πà‡∏≤‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏≤‡∏ß‡∏´‡∏ß‡∏≤‡∏ô‡πÜ üíï"></textarea>

<input type="file" id="imageUpload" accept="image/*">
<input type="file" id="videoUpload" accept="video/mp4">
<input type="text" id="youtubeLink" placeholder="‡∏•‡∏¥‡∏á‡∏Å‡πå YouTube">

<label><input type="checkbox" id="usePassword"> ‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™ 6 ‡∏´‡∏•‡∏±‡∏Å</label>
<input type="number" id="password" maxlength="6" class="hidden">

<button onclick="nextPage()">‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</button>
</div>

<div class="container hidden" id="paymentPage">
<h2>üí≥ ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å</h2>

<div class="preview-box">
‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£: ‡∏Å‡∏£‡∏∏‡∏á‡πÑ‡∏ó‡∏¢<br>
‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ç‡∏ä‡∏µ: 1220586870<br>
‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ç‡∏ä‡∏µ: <b id="accountName">‡∏ô‡∏≤‡∏¢ ‡∏ì‡∏±‡∏ê‡∏ß‡∏±‡∏ï‡∏£ ‡∏ä‡∏π‡∏õ‡∏£‡∏≤‡∏£‡∏°‡∏¢‡πå</b>
</div>

<input type="file" id="slipUpload" accept="image/*">
<button onclick="verifySlip()">üîç AI ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏•‡∏¥‡∏õ</button>

<p id="verifyResult"></p>
</div>

<div class="container hidden" id="viewPage"></div>

<script>
let savedData={};

document.getElementById("usePassword").addEventListener("change",function(){
    document.getElementById("password").classList.toggle("hidden",!this.checked);
});

function nextPage(){
    savedData.title=document.getElementById("title").value;
    savedData.story=document.getElementById("story").value;
    savedData.password=document.getElementById("password").value;

    const youtube=document.getElementById("youtubeLink").value;
    if(youtube){
        const videoId=youtube.split("v=")[1]?.split("&")[0];
        if(videoId){
            savedData.youtube="https://www.youtube.com/embed/"+videoId;
        }
    }

    document.getElementById("formPage").classList.add("hidden");
    document.getElementById("paymentPage").classList.remove("hidden");
}

async function verifySlip(){
    const file=document.getElementById("slipUpload").files[0];
    if(!file){alert("‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏•‡∏¥‡∏õ‡∏Å‡πà‡∏≠‡∏ô üíï");return;}

    const reader=new FileReader();
    reader.onload=async function(e){

        const base64=e.target.result.split(",")[1];

        const response=await fetch("https://vision.googleapis.com/v1/images:annotate?key=YOUR_API_KEY",{
            method:"POST",
            headers:{"Content-Type":"application/json"},
            body:JSON.stringify({
                requests:[{
                    image:{content:base64},
                    features:[{type:"TEXT_DETECTION"}]
                }]
            })
        });

        const data=await response.json();
        const text=data.responses[0].fullTextAnnotation?.text || "";

        const accountName=document.getElementById("accountName").innerText;

        if(text.includes(accountName)){
            document.getElementById("verifyResult").innerHTML="‚úÖ ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß üíñ";
            openMemory();
        }else{
            document.getElementById("verifyResult").innerHTML="‚ùå ‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà";
        }
    };
    reader.readAsDataURL(file);
}

function openMemory(){
    document.getElementById("paymentPage").classList.add("hidden");
    const view=document.getElementById("viewPage");
    view.classList.remove("hidden");

    view.innerHTML=`
    <h2>${savedData.title}</h2>
    <p>${savedData.story}</p>
    ${savedData.youtube?`<iframe height="200" src="${savedData.youtube}" frameborder="0" allowfullscreen></iframe>`:""}
    `;
}
</script>

</body>
</html>
