<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Love Surprise üíñ</title>

<style>
body{
    font-family:'Kanit',sans-serif;
    background:linear-gradient(135deg,#ffc0cb,#ff8fcf);
    margin:0;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    overflow:hidden;
}
.container{
    background:white;
    width:95%;
    max-width:420px;
    padding:20px;
    border-radius:20px;
    box-shadow:0 10px 30px rgba(0,0,0,0.2);
    text-align:center;
    position:relative;
    z-index:2;
    max-height:90vh;
    overflow-y:auto;
}
h2{color:#ff4da6;}
input,textarea{
    width:100%;
    padding:10px;
    margin:8px 0;
    border-radius:10px;
    border:1px solid #ffb6d9;
}
button{
    padding:10px 15px;
    margin:8px 5px;
    border:none;
    border-radius:10px;
    background:#ff69b4;
    color:white;
    cursor:pointer;
}
button:hover{background:#ff1493;}
.hidden{display:none;}
img,video,iframe{
    max-width:100%;
    border-radius:12px;
    margin-top:10px;
}
.preview-box{
    background:#fff0f6;
    padding:15px;
    border-radius:15px;
    margin-top:10px;
}
.small{font-size:12px;color:#777;}
.heart{
    position:absolute;
    color:#ff69b4;
    animation:float 6s linear infinite;
}
@keyframes float{
    0%{transform:translateY(100vh) scale(1);}
    100%{transform:translateY(-10vh) scale(1.5);opacity:0;}
}
</style>
</head>
<body>

<!-- ‡∏´‡∏ô‡πâ‡∏≤ 1 -->
<div class="container" id="formPage">
    <h2>üíñ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥ üíñ</h2>

    <input type="text" id="title" placeholder="‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏∞‡πÑ‡∏£...">
    <textarea id="story" rows="4" placeholder="‡πÄ‡∏•‡πà‡∏≤‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏≤‡∏ß‡∏´‡∏ß‡∏≤‡∏ô‡πÜ üíï"></textarea>

    <h4>üñº ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</h4>
    <input type="file" id="imageUpload" accept="image/*">

    <h4>üé¨ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠ (.mp4)</h4>
    <input type="file" id="videoUpload" accept="video/mp4">

    <h4>üì∫ ‡∏´‡∏£‡∏∑‡∏≠‡∏ß‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå YouTube</h4>
    <input type="text" id="youtubeLink" placeholder="https://www.youtube.com/watch?v=xxxx">

    <label><input type="checkbox" id="usePassword"> ‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™ 6 ‡∏´‡∏•‡∏±‡∏Å</label>
    <input type="number" id="password" maxlength="6" placeholder="‡∏£‡∏´‡∏±‡∏™ 6 ‡∏´‡∏•‡∏±‡∏Å" class="hidden">

    <button onclick="nextPage()">‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</button>
</div>

<!-- ‡∏´‡∏ô‡πâ‡∏≤ 2 -->
<div class="container hidden" id="successPage">
    <h2>üíñ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! üíñ</h2>
    <p>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß üíï<br>
    ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡πÅ‡∏ä‡∏£‡πå‡πÉ‡∏´‡πâ‡∏Ñ‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢</p>

    <div class="preview-box">
        <b>‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£:</b> ‡∏Å‡∏£‡∏∏‡∏á‡πÑ‡∏ó‡∏¢<br>
        <b>‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ç‡∏ä‡∏µ:</b> 1220586870<br>
        <b>‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ç‡∏ä‡∏µ:</b> ‡∏ô‡∏≤‡∏¢ ‡∏ì‡∏±‡∏ê‡∏ß‡∏±‡∏ï‡∏£ ‡∏ä‡∏π‡∏õ‡∏£‡∏≤‡∏£‡∏°‡∏¢‡πå
    </div>

    <h4>üìé ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏•‡∏¥‡∏õ</h4>
    <input type="file" id="slipUpload" accept="image/*">

    <button onclick="showPreview()">‡∏î‡∏π‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</button>
    <button onclick="generateLink()">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÅ‡∏ä‡∏£‡πå</button>

    <div id="previewSection" class="hidden preview-box"></div>
    <div id="shareLink" class="small"></div>
</div>

<!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™ -->
<div class="container hidden" id="passwordPage">
    <h2>üîê ‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥</h2>
    <input type="number" id="enterPassword" placeholder="‡∏£‡∏´‡∏±‡∏™ 6 ‡∏´‡∏•‡∏±‡∏Å">
    <button onclick="checkPassword()">‡πÄ‡∏õ‡∏¥‡∏î‡∏î‡∏π</button>
</div>

<!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• -->
<div class="container hidden" id="viewPage">
</div>

<script>
let savedData={};

document.getElementById("usePassword").addEventListener("change",function(){
    document.getElementById("password").classList.toggle("hidden",!this.checked);
});

function nextPage(){
    const title=document.getElementById("title").value;
    const story=document.getElementById("story").value;
    const password=document.getElementById("password").value;
    const imageFile=document.getElementById("imageUpload").files[0];
    const videoFile=document.getElementById("videoUpload").files[0];
    const youtube=document.getElementById("youtubeLink").value;

    if(!title||!story){alert("‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö üíï");return;}
    if(document.getElementById("usePassword").checked && password.length!==6){
        alert("‡∏£‡∏´‡∏±‡∏™‡∏ï‡πâ‡∏≠‡∏á 6 ‡∏´‡∏•‡∏±‡∏Å üíñ");return;
    }

    savedData={title,story,password};

    if(imageFile){
        const reader=new FileReader();
        reader.onload=e=>savedData.image=e.target.result;
        reader.readAsDataURL(imageFile);
    }

    if(videoFile){
        const reader2=new FileReader();
        reader2.onload=e=>savedData.video=e.target.result;
        reader2.readAsDataURL(videoFile);
    }

    if(youtube){
        const videoId=youtube.split("v=")[1]?.split("&")[0];
        if(videoId){
            savedData.youtube="https://www.youtube.com/embed/"+videoId;
        }
    }

    document.getElementById("formPage").classList.add("hidden");
    document.getElementById("successPage").classList.remove("hidden");
}

function showPreview(){
    const preview=document.getElementById("previewSection");
    preview.classList.remove("hidden");
    preview.innerHTML=`
        <h3>${savedData.title}</h3>
        <p>${savedData.story}</p>
        ${savedData.image?`<img src="${savedData.image}">`:""}
        ${savedData.video?`<video controls src="${savedData.video}"></video>`:""}
        ${savedData.youtube?`<iframe height="200" src="${savedData.youtube}" frameborder="0" allowfullscreen></iframe>`:""}
        <p class="small">üíñ ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</p>
    `;
}

function generateLink(){
    document.getElementById("shareLink").innerHTML=
    "üíå ‡πÅ‡∏ä‡∏£‡πå‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡πÉ‡∏´‡πâ‡∏Ñ‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏© ‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ç‡∏≤";
    alert("‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à üíï");

    document.getElementById("successPage").classList.add("hidden");
    if(savedData.password){
        document.getElementById("passwordPage").classList.remove("hidden");
    }else{
        openMemory();
    }
}

function checkPassword(){
    if(document.getElementById("enterPassword").value===savedData.password){
        openMemory();
    }else{
        alert("‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á üíî");
    }
}

function openMemory(){
    document.getElementById("passwordPage").classList.add("hidden");
    const view=document.getElementById("viewPage");
    view.classList.remove("hidden");
    view.innerHTML=`
        <h2>${savedData.title}</h2>
        <p>${savedData.story}</p>
        ${savedData.image?`<img src="${savedData.image}">`:""}
        ${savedData.video?`<video controls src="${savedData.video}"></video>`:""}
        ${savedData.youtube?`<iframe height="200" src="${savedData.youtube}" frameborder="0" allowfullscreen></iframe>`:""}
    `;
}

/* ‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏•‡∏≠‡∏¢ */
setInterval(()=>{
    const heart=document.createElement("div");
    heart.className="heart";
    heart.style.left=Math.random()*100+"vw";
    heart.innerHTML="üíñ";
    heart.style.fontSize=(20+Math.random()*20)+"px";
    document.body.appendChild(heart);
    setTimeout(()=>heart.remove(),6000);
},500);
</script>

</body>
</html>
